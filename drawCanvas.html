<!DOCTYPE html>

<html>

<head>

<title>绘制gif</title>

</head>

<body>

<canvas id="myCanvas" width="400" height="400" style="border:1px double #996633;">

</canvas>

<script type="text/javascript">

   var canvas = document.getElementById('myCanvas');

   var ctx = canvas.getContext('2d');

   var i=0;

   function move()

   {

       ctx.fillStyle = 'red';

       ctx.fillRect(i,i,50,50);

       i++;

       if (i==350)

       {

           i=0;

           ctx.clearRect(0,0,400,400);

       }

       setTimeout("move()",10);

   }
   
var path1 = [[[65, 166]], [[54, 155]], [[54, 154]], [[50, 150]], [[50, 149]], [[49, 148]], [[49, 147]], [[46, 144]], [[46, 143]], [[43, 140]], [[43, 138]], [[42, 137]], [[42, 136]], [[41, 135]], [[41, 134]], [[40, 133]], [[40, 130]], [[39, 129]], [[39, 126]], [[38, 125]], [[38, 123]], [[37, 122]], [[37, 92]], [[38, 91]], [[38, 90]], [[39, 89]], [[39, 87]], [[40, 86]], [[40, 84]], [[41, 83]], [[41, 81]], [[42, 80]], [[42, 79]], [[43, 78]], [[43, 77]], [[44, 76]], [[44, 75]], [[46, 73]], [[46, 72]], [[48, 70]], [[48, 69]], [[49, 68]], [[49, 67]], [[53, 63]], [[53, 62]], [[55, 60]], [[55, 59]], [[58, 56]], [[58, 55]], [[59, 54]], [[60, 54]], [[64, 50]], [[65, 50]], [[69, 46]], [[70, 46]], [[72, 44]], [[73, 44]], [[74, 43]], [[75, 43]], [[76, 42]], [[77, 42]], [[78, 41]], [[79, 41]], [[80, 40]], [[81, 40]], [[82, 39]], [[86, 39]], [[87, 38]], [[90, 38]], [[91, 37]], [[93, 37]], [[94, 36]], [[99, 36]], [[100, 35]], [[113, 35]], [[114, 34]], [[136, 34]], [[137, 35]], [[141, 35]], [[142, 36]], [[143, 36]], [[144, 37]], [[146, 37]], [[147, 38]], [[148, 38]], [[149, 39]], [[150, 39]], [[151, 40]], [[152, 40]], [[153, 41]], [[154, 41]], [[155, 42]], [[156, 42]], [[157, 43]], [[158, 43]], [[159, 44]], [[160, 44]], [[162, 46]], [[163, 46]], [[164, 47]], [[165, 47]], [[177, 59]], [[177, 60]], [[179, 62]], [[179, 63]], [[183, 67]], [[183, 68]], [[186, 71]], [[186, 72]], [[188, 74]], [[188, 75]], [[190, 77]], [[190, 78]], [[191, 79]], [[191, 80]], [[193, 82]], [[193, 84]], [[194, 85]], [[194, 87]], [[195, 88]], [[195, 90]], [[196, 91]], [[196, 95]], [[197, 96]], [[197, 104]], [[198, 105]], [[198, 117]], [[197, 118]], [[198, 119]], [[198, 121]], [[197, 122]], [[197, 123]], [[196, 124]], [[196, 127]], [[195, 128]], [[195, 129]], [[194, 130]], [[194, 131]], [[193, 132]], [[193, 133]], [[191, 135]], [[191, 136]], [[190, 137]], [[190, 138]], [[189, 139]], [[188, 139]], [[187, 140]], [[187, 141]], [[183, 145]], [[184, 145]], [[185, 144]], [[187, 144]], [[188, 143]], [[190, 143]], [[191, 142]], [[193, 142]], [[194, 141]], [[196, 141]], [[197, 140]], [[198, 140]], [[199, 139]], [[200, 139]], [[201, 138]], [[202, 138]], [[204, 136]], [[206, 136]], [[207, 135]], [[208, 135]], [[209, 134]], [[210, 134]], [[212, 132]], [[213, 132]], [[215, 130]], [[216, 130]], [[217, 129]], [[217, 127]], [[215, 125]], [[215, 124]], [[214, 123]], [[214, 114]], [[215, 113]], [[216, 113]], [[219, 110]], [[228, 110]], [[230, 112]], [[230, 113]], [[231, 114]], [[231, 115]], [[233, 117]], [[233, 119]], [[234, 120]], [[235, 120]], [[236, 119]], [[240, 119]], [[241, 118]], [[241, 117]], [[242, 116]], [[243, 116]], [[244, 115]], [[245, 115]], [[247, 113]], [[249, 113]], [[250, 112]], [[253, 112]], [[254, 111]], [[261, 111]], [[263, 113]], [[263, 122]], [[261, 124]], [[260, 124]], [[259, 125]], [[258, 125]], [[257, 126]], [[256, 126]], [[254, 128]], [[252, 128]], [[251, 129]], [[252, 130]], [[252, 131]], [[253, 132]], [[253, 143]], [[251, 145]], [[250, 145]], [[249, 146]], [[248, 146]], [[247, 147]], [[245, 147]], [[244, 148]], [[241, 148]], [[240, 149]], [[232, 149]], [[231, 148]], [[229, 148]], [[227, 150]], [[226, 150]], [[224, 152]], [[223, 152]], [[219, 156]], [[218, 156]], [[215, 159]], [[214, 159]], [[213, 160]], [[212, 160]], [[210, 162]], [[209, 162]], [[208, 163]], [[207, 163]], [[205, 165]], [[204, 165]], [[201, 168]], [[200, 168]], [[198, 170]], [[197, 170]], [[196, 171]], [[195, 171]], [[193, 173]], [[192, 173]], [[190, 175]], [[189, 175]], [[186, 178]], [[185, 178]], [[180, 183]], [[178, 183]]];
var path2 = [[[73, 212]], [[69, 208]], [[67, 208]], [[66, 207]], [[65, 207]], [[62, 204]], [[62, 192]], [[63, 191]], [[63, 189]], [[64, 188]], [[64, 187]], [[65, 186]], [[65, 185]], [[66, 184]], [[66, 183]], [[67, 182]], [[67, 181]], [[69, 179]], [[69, 178]], [[70, 177]], [[70, 176]], [[71, 175]], [[71, 174]], [[72, 173]], [[72, 171]], [[73, 170]], [[73, 167]]].reverse();
var path3 = [[[181, 261]], [[179, 263]], [[159, 263]], [[158, 262]], [[139, 262]], [[136, 259]], [[136, 255]], [[135, 254]], [[136, 253]], [[135, 252]], [[135, 250]], [[134, 249]], [[134, 246]], [[133, 245]], [[133, 243]], [[132, 242]], [[127, 242]], [[126, 243]], [[126, 246]], [[125, 247]], [[125, 262]], [[122, 265]], [[77, 265]], [[76, 264]], [[72, 264]], [[71, 263]], [[70, 263]], [[69, 262]], [[69, 252]], [[70, 251]], [[70, 250]], [[74, 246]], [[77, 246]], [[77, 234]], [[78, 233]], [[78, 230]], [[79, 229]], [[79, 219]], [[80, 218]], [[80, 210]], [[81, 209]], [[81, 193]], [[82, 192]], [[82, 180]]].reverse();
var path4 = [[[163, 161]], [[164, 160]], [[168, 164]], [[168, 165]], [[169, 166]], [[169, 170]], [[170, 171]], [[170, 172]], [[171, 173]], [[171, 175]], [[172, 176]], [[172, 178]], [[173, 179]], [[173, 180]], [[174, 181]], [[174, 182]], [[175, 183]], [[175, 184]], [[176, 185]], [[176, 188]], [[177, 189]], [[177, 192]], [[178, 193]], [[178, 194]], [[179, 195]], [[179, 198]], [[180, 199]], [[180, 200]], [[179, 201]], [[180, 202]], [[180, 207]], [[181, 208]], [[181, 215]], [[182, 216]], [[182, 222]], [[183, 223]], [[183, 225]], [[184, 226]], [[184, 232]], [[185, 233]], [[185, 241]], [[186, 242]], [[189, 242]], [[193, 246]], [[193, 247]], [[194, 248]], [[194, 251]], [[195, 252]], [[194, 253]], [[194, 255]], [[191, 258]], [[189, 258]], [[188, 259]], [[187, 259]], [[185, 261]]];
var path5 = [[[88, 91]], [[90, 91]], [[92, 93]], [[93, 93]], [[94, 94]], [[94, 98]], [[92, 100]], [[90, 100]], [[89, 101]], [[88, 101]], [[85, 98]], [[85, 94]], [[88, 91]]];
var path6 = [[[139, 84]], [[143, 84]], [[145, 86]], [[145, 87]], [[146, 88]], [[146, 90]], [[142, 94]], [[139, 94]], [[136, 91]], [[136, 88]], [[137, 87]], [[137, 86]], [[139, 84]]];
var path7 = [[[132, 103]], [[132, 104]], [[131, 105]], [[131, 106]], [[130, 107]], [[127, 108]], [[127, 109]], [[126, 110]], [[125, 110]], [[124, 111]], [[123, 111]], [[122, 112]], [[112, 112]], [[111, 111]], [[110, 111]], [[105, 106]]].reverse();
var path8 = [[[78, 110]], [[78, 111]], [[77, 112]], [[77, 115]], [[76, 116]], [[76, 120]], [[75, 121]]];
var path9 = [[[85, 121]], [[85, 117]], [[85, 116]], [[85, 111]], [[86, 110]], [[86, 108]]].reverse();
var path10 = [[[155, 100]], [[155, 101]], [[153, 104]], [[152, 105]], [[152, 106]], [[152, 110]], [[151, 111]]];
var path11 = [[[164, 99]], [[163, 100]], [[162, 103]], [[161, 104]], [[160, 105]], [[159, 106]], [[159, 108]], [[159, 110]], [[159, 112]]];
var path12 = [[[235, 69]], [[236, 68]], [[236, 67]], [[240, 63]], [[241, 63]], [[242, 62]], [[243, 62]], [[244, 61]], [[252, 61]], [[254, 63]], [[255, 63]], [[256, 64]], [[256, 65]], [[259, 68]], [[259, 71]], [[260, 72]], [[260, 82]], [[259, 83]], [[259, 84]], [[257, 86]], [[257, 87]], [[253, 91]], [[252, 91]], [[247, 96]], [[246, 96]], [[244, 98]], [[243, 98]], [[239, 102]], [[232, 102]], [[231, 101]], [[226, 101]], [[225, 100]], [[223, 100]], [[219, 96]], [[219, 94]], [[216, 91]], [[216, 88]], [[215, 87]], [[215, 74]], [[216, 73]], [[216, 72]], [[221, 67]], [[224, 67]], [[225, 66]], [[231, 66]], [[232, 67]], [[233, 67]], [[235, 69]]];
var path13 = [[[222, 68]], [[223, 67]], [[224, 67]], [[225, 68]], [[225, 69]], [[226, 70]], [[226, 87]], [[225, 88]], [[225, 95]], [[224, 96]]];
var path14 = [[[233, 70]], [[233, 72]], [[233, 74]], [[233, 78]], [[233, 79]], [[233, 79]], [[233, 80]], [[233, 87]], [[233, 88]], [[233, 93]], [[232, 94]], [[232, 96]], [[233, 98]], [[232, 98]]];
var path15 = [[[241, 68]], [[241, 70]], [[241, 75]], [[241, 75]], [[240, 76]], [[240, 89]], [[239, 90]], [[239, 95]], [[239, 96]], [[239, 96]]];
var path16 = [[[248, 65]], [[248, 67]], [[248, 69]], [[248, 70]], [[248, 71]], [[248, 73]], [[248, 74]], [[248, 87]], [[248, 88]], [[248, 89]], [[248, 90]], [[248, 91]], [[248, 92]], [[248, 93]], [[248, 94]]];
var path17 = [[[231, 128]], [[232, 130]], [[232, 133]], [[233, 134]], [[233, 135]], [[234, 136]], [[234, 141]], [[235, 142]], [[235, 148]], [[236, 149]], [[236, 154]], [[237, 155]], [[237, 159]], [[239, 161]], [[239, 161]], [[237, 159]], [[237, 155]], [[240, 139]], [[241, 139]], [[243, 137]], [[245, 137]], [[246, 136]], [[252, 136]], [[253, 137]], [[254, 137]], [[256, 139]], [[256, 140]], [[257, 141]], [[257, 147]], [[256, 148]], [[256, 149]], [[250, 155]], [[249, 155]], [[248, 156]], [[247, 156]], [[245, 158]], [[243, 158]], [[243, 159]], [[240, 157]]];

var path18 = [[[266, 106]], [[267, 107]], [[267, 108]], [[268, 109]], [[268, 111]], [[269, 112]], [[269, 113]], [[270, 114]], [[270, 115]], [[271, 116]], [[270, 117]], [[270, 118]]];
var path19 = [[[266, 131]], [[266, 131]], [[267, 132]], [[267, 150]], [[267, 151]]];
var path20 = [[[289, 118]], [[290, 119]], [[290, 138]], [[289, 139]], [[289, 140]], [[285, 144]], [[284, 144]], [[283, 145]], [[281, 145]], [[278, 142]], [[278, 123]], [[278, 122]]].reverse();

var currentIndex = 0;
var paths = [path1, path2, path3, path4, path5, path6, path7, path8, path9, path10, path11, path12, path13, path14, path15, path16, path17, path18, path19, path20];
// var paths = [path20];
var currentPath = paths[currentIndex];
var beginPoint = currentPath[0][0];
var endPoint = currentPath[1][0];
var drawInterval = setInterval(draw,30);
function draw() {
  console.log(beginPoint, endPoint);
    ctx.beginPath();
    // 数据问题，前11个数组的x需要向左偏移24
    if (currentIndex < 11) {
        ctx.moveTo(beginPoint[0]-24,beginPoint[1]);
        ctx.lineTo(endPoint[0]-24,endPoint[1]); 
    }else {
       ctx.moveTo(beginPoint[0],beginPoint[1]);
        ctx.lineTo(endPoint[0],endPoint[1]); 
    }
   
    ctx.closePath();
    if (currentIndex == 4 || currentIndex == 5) {//眼睛的线条需要加粗
      ctx.lineWidth = 8; 
    }else {
      ctx.lineWidth = 4; 
    }
    
    if (currentIndex >= 7 && currentIndex <= 15) {
      ctx.strokeStyle = "#FFC0CB";//粉色
    }else {
      ctx.strokeStyle = "#000000";
    }
    
    ctx.lineJoin = "round";
    ctx.stroke();

    beginPoint = endPoint;
    var d = getIndex(currentPath, [endPoint]) + 1;
    if (d > 0 && d < (currentPath.length)) {
      endPoint = currentPath[d][0];
    }
    if (beginPoint == endPoint) {
      if (currentIndex < (paths.length-1)) {//此线画完，开始下根线
        currentIndex += 1;
        currentPath = paths[currentIndex];
        beginPoint = currentPath[0][0];
        endPoint = currentPath[1][0];
      }else {//所有线画完，停止绘画
        clearInterval(drawInterval);
      }
    }  
}
  

function getIndex(array, v) {
  for (var j = 0; j < array.length; j++) {
    if (v[0] == array[j][0]) {
      return j;
    }
  }
}

   // move();


</script>

</body>

</html>